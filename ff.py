import sys
import importlib
sys.path.append('third_party/Matcha-TTS')
from cosyvoice.cli.cosyvoice import CosyVoice, CosyVoice2
from cosyvoice.utils.file_utils import load_wav
import torchaudio
from pydub import AudioSegment
import os
import re

def trim_all_wwitespace(text):
    """移除字符串中所有空格和换行符（包括中间和两端）"""
    # 同时匹配空格、换行符和制表符
    return re.sub(r'[\s\n\r]+', '', text, flags=re.UNICODE)

def smart_replace(text):
    """
    智能替换文本中的特定模式：
    1. 将 "@@字母组合" 替换为 "\n@@字母组合"（如 @@ww → \n@@ww）
    2. 将单独的 "@@" 替换为 "@@\n"
    
    规则说明：
    - "字母组合"定义为至少1个英文字母（a-zA-Z）
    - 替换顺序为优先处理长模式（@@xx）
    """
    # 第一步：处理 @@字母组合（至少1个字母）
    processed = re.sub(
        pattern=r'(@@)([a-zA-Z]+)',  # 匹配 @@字母
        repl=r'\n\1\2',              # 添加前置换行符
        string=text
    )
    
    # 第二步：处理单独的 @@
    return re.sub(
        pattern=r'@@(?![a-zA-Z])',   # 负向先行断言：后面没有字母
        repl=r'@@\n',                # 添加后置换行符
        string=processed
    )


def find_ff_wav_files():
    # 定义正则表达式规则：ff_开头 + 任意字符 + 数字结尾（至少一个数字） + .wav扩展名
    pattern = r'^ff_.*\d+_.*\d+\.wav$'
    matching_files = []
    
    # 遍历当前目录下的所有文件
    for filename in os.listdir('.'):
        # 仅检查文件（跳过目录）且文件名符合正则表达式
        if os.path.isfile(filename) and re.match(pattern, filename):
            matching_files.append(filename)
    
    return matching_files

def concatenate_wavs_pydub(input_files, output_file):
    combined = AudioSegment.empty()
    for file in input_files:
        sound = AudioSegment.from_wav(file)
        combined += sound
    combined.export(output_file, format="wav")

def delete_files(file_paths):
    """
    安全删除文件列表中的文件（Windows系统）
    
    :param file_paths: 包含文件路径的列表
    :return: (成功删除的文件列表, 删除失败的文件列表)
    """
    success = []
    failures = []

    for file_path in file_paths:
        try:
            # 转换为绝对路径
            abs_path = os.path.abspath(file_path)
            
            # 检查文件是否存在
            if not os.path.exists(abs_path):
                raise FileNotFoundError(f"文件不存在: {abs_path}")
                
            # 检查是否为文件（防止误删目录）
            if not os.path.isfile(abs_path):
                raise IsADirectoryError(f"路径指向的是目录: {abs_path}")
                
            # 执行删除操作
            os.remove(abs_path)
            success.append(abs_path)
            print(f"[成功] 已删除文件: {abs_path}")

        except Exception as e:
            failures.append((abs_path, str(e)))
            print(f"[失败] {abs_path} - 原因: {str(e)}")

    return success, failures

print('[ff] Started ...')

output_list_old = find_ff_wav_files()
print('[ff] output_list_old ...', output_list_old)
delete_files(output_list_old)


cosyvoice = CosyVoice2('pretrained_models/CosyVoice2-0.5B', load_jit=False, load_trt=False, fp16=False)
#
#cosyvoice = CosyVoice('pretrained_models/CosyVoice-300M', load_jit=False, load_trt=False, fp16=False)
print('[ff] cosyvoice ...', cosyvoice)

# NOTE if you want to reproduce the results on https://funaudiollm.github.io/cosyvoice2, please add text_frontend=False during inference
# zero_shot usage

#inpath = './asset/melantha.wav'
#inpath = './asset/ff.wav'
inpath = './asset/melantha00.wav'
prompt_speech_16k = load_wav(inpath, 16000)
print('[ff] prompt_speech_16k ...', prompt_speech_16k)


dst = """
 ~刚才~ 野人来找我了。
我现在见到他，还是会忍不住，哗哗的流淫水儿~ 
以前我，一年能被他，操三百多次呢~。
 ~我的小骚逼，早就让他，操成了他大鸡巴的形状了~
 为了见野人，我特意穿了短裙。 丝袜，高跟鞋，还有丁字裤。
我就不会为了你， 穿的这么骚~。
但是为了野人，我什么都愿意~ 
我穿的是，你给我买的，吊带复古黑色丝袜。
短裙是齐逼的那种。还穿了特别骚气的蕾丝丁字裤。 
踩着十多厘米的，细跟高跟鞋~ 
野人看见我就兴奋了。
他裤裆都顶帐篷了。
他那一身的肌肉，还是那么健壮~。 
我打他一巴掌，自己手都疼那种~
他的鸡巴，也还是那么长，那么粗~  
那可不是你这种细狗，能比得上的~。
吴昊。 我跟你说，我可太~想舔他的大粗鸡巴了。 
我俩随便吃了个饭，就去酒店开房了。
进了房间，野人就把我抱起来，扔在床上。
我的小骚逼，早就湿透了~
迫不及待的吻着他。
脱他的裤子。
我好想让野人，用他的大粗鸡巴，往死里操我。
后来，他挺着大粗鸡巴。 扑哧~
就整根。插进我的。小骚逼里了。
野人的大粗鸡巴，比我手腕都粗。
他用大粗鸡巴，在我小骚逼里，疯狂抽插搅动。
没过多会儿。 我的小骚逼。就被野人操肿了。
他的鸡巴老大个儿了~ 每一下抽插，都能用龟头，顶进我的子宫口~。
吴昊。你再看看你，你那个小玩意儿。
跟人家野人的，根本没法比。
就你这样的。还妄想着。操我的逼呢。
你别做梦了~
后来我翻着白眼儿。不停高潮~。
野人能操的我。一直高潮不下来。 
我一边高潮，一边吸他的舌头。
我好喜欢吃他的口水。
 ~野人足足。操了我。四个小时~。
我都快让他操晕过去了。
最后。野人把大鸡巴。狠狠的顶在我子宫的最深处。
把一股一股的滚烫的。粘稠的精液。都灌进我子宫里。
我感觉。野人射了好半天。
我的小肚子。都被他的精液撑的。
鼓起来了。像怀孕了一样。
后来。他射完精。把鸡巴拔出去的时候~。
~我全身不停的痉挛。
我穿着丝袜的双腿。也抖个不停。 
丝袜脚。也控制不住的。死死的缠住他的腰。 
小肚子。也一直都在抽搐。
我爽到头都晕了~。
后来。我就。又潮吹了~。 
淫水。喷的满地都是，
屁眼儿。也因为太爽。屎都夹不住了。
稀屎。和尿。还有野人的精液。
都顺着穿着丝袜的腿。流到地上了~。 
你要是给我。转一万块钱的红包，
我就让你。舔我屁眼儿里漏出来的屎。
或许说不定。你还能。
吃到野人。射在我骚逼里的精液呢。
真他妈是便宜你这个。绿帽王八了~。
我现在骚逼里。塞着个18厘米的假鸡巴。
是用来堵住。野人射进去的精液的。
~屁眼儿里。也塞着肛塞，
会震动的那种哦。
现在我子宫里。可暖乎了，
满满的。都是野人射进去的精液。
这回。我肯定又要怀上他的孩子了。
我一直都没告诉过你，
我以前让野人搞大肚子好几次。
我每次都让他内射，他的基因太好了，
我就是。想给他生孩子。
我现在。就是野人的骚母狗。性奴~。
我想天天给他当精盆。肉便器~，
让他再像以前一样。一天操我好几次。
~至于。吴昊你嘛，你就听着我给你讲着。
野人是怎么操我的。
自己。拿飞机杯解决吧。
傻逼老外~。接盘侠~。 """


dst2="""太上曰：祸福无门，唯人自召。
善恶之报，如影随形。
是以天地有司过之神。
依人所犯轻重，以夺人算。
算减则贫耗，多逢忧患，
人皆恶之，刑祸随之，
吉庆避之，恶星灾之，算尽则死。
又有三台北斗神君，在人头上，
录人罪恶，夺其纪算。
又有三尸神，在人身中，
每到庚申日，辄上诣天曹，言人罪过。
月晦之日，灶神亦然。
凡人有过，大则夺纪，小则夺算。
其过大小，有数百事，
欲求长生者，先须避之。
是道则进，非道则退。
不履邪径，不欺暗室。
积德累功，慈心於物。
忠孝友悌，正己化人，
矜孤恤寡，敬老怀幼。
昆虫草木，犹不可伤。
宜悯人之凶，乐人之善，
济人之急，救人之危。
见人之得，如己之得。
见人之失，如己之失。
不彰人短，不炫己长。
遏恶扬善，推多取少。
受辱不怨，受宠若惊。
施恩不求报，
与人不追悔。
所谓善人，人皆敬之，
天道佑之，福禄随之。
众邪远之，神灵卫之，
所作必成，神仙可冀。
　　欲求天仙者，当立一千三百善，
欲求地仙者，当立三百善；
苟或非义而动，背理而行。
以恶为能，忍作残害。
阴贼良善，暗侮君亲。
慢其先生，叛其所事。
诳诸无识，谤诸同学。
虚诬诈伪，攻讦宗亲。
刚强不仁，狠戾自用。
是非不当，
向背乖宜。
虐下取功，谄上希旨。
受恩不感，
念怨不休。
轻蔑天民，扰乱国政。
赏及非义，刑及无辜。
杀人取财，倾人取位。
诛降戮服，贬正排贤。
凌孤逼寡，弃法受赂。
以直为曲，以曲为直。
入轻为重，见杀加怒。
知过不改，知善不为。
自罪引他，壅塞方术。
讪谤贤圣，侵凌道德。
射飞逐走，发蛰惊栖，
填穴覆巢，伤胎破卵。
愿人有失，毁人成功。
危人自安，减人自益。
以恶易好，以私废公。
窃人之能，蔽人之善。
形人之丑，讦人之私。
耗人货财，离人骨肉。
侵人所爱，助人为非，
逞志作威，辱人求胜。
败人苗稼，破人婚姻。
苟富而骄，苟免无耻，认恩推过。
嫁祸卖恶。
沽买虚誉，包贮险心。
挫人所长，护己所短。
乘威迫胁，纵暴杀伤。
无故剪裁，非礼烹宰。
散弃五谷，劳扰众生。
破人之家。
取其财宝。
决水放火，以害民居，
紊乱规模，以败人功，
损人器物，以穷人用。
见他荣贵，愿他流贬。
见他富有，愿他破散。
见他色美，起心私之。
负他货财，愿他身死。
干求不遂，便生咒恨。
见他失便，便说他过。
　　见他体相不具而笑之。
见他才能可称而抑之。
埋蛊厌人，用药杀树。
恚怒师傅，
抵触父兄。
强取强求，好侵好夺。
掳掠致富，巧诈求迁。
赏罚不平，逸乐过节。
苛虐其下，恐吓於他。
怨天尤人，呵风骂雨。
斗合争讼，妄逐朋党。
用妻妾语，违父母训。
得新忘故。
口是心非，贪冒於财，欺罔其上。
造作恶语，谗毁平人。
毁人称直，骂神称正，
弃顺效逆，背亲向疏。
　　指天地以证鄙怀，
引神明而鉴猥事。
施与後悔，假借不还。
分外营求，力上施设。
淫欲过度，心毒貌慈。
秽食馁人，左道惑众。
短尺狭度，轻秤小升。
以伪杂真，采取奸利。
压良为贱，谩蓦愚人，
贪婪无厌，咒诅求直。
嗜酒悖乱，骨肉忿争。
男不忠良，女不柔顺。
不和其室，不敬其夫。
每好矜夸，常行妒忌。
　　无行於妻子，失礼於舅姑，
轻慢先灵，违逆上命。
作为无益，怀挟外心。
自咒咒他，偏憎偏爱。
越井越灶，跳食跳人。
损子堕胎，
行多隐僻。
晦腊歌舞，朔旦号怒。
　　对北涕唾及溺，对灶吟咏及哭。
又以灶火烧香，秽柴作食。
夜起裸露，八节行刑。
唾流星，指虹霓。
辄指三光，久视日月，
春月燎猎，对北恶骂。
无故杀龟打蛇，如是等罪，
司命随其轻重，夺其纪算。
算尽则死，死有余责，乃殃及子孙。
又诸横取人财者，乃计其妻子家口以当之，渐至死丧。
若不死丧，则有水火盗贼，
遗亡器物，疾病口舌诸事，以当妄取之直。
又枉杀人者，是易刀兵而相杀也。
　　取非义之财者，譬如漏脯救饥，
鸩酒止渴，非不暂饱，死亦及之。
夫心起於善，善虽未为，而吉神已随之。
或心起於恶，恶虽未为，而凶神已随之。
其有曾行恶事，後自改悔，
诸恶莫作，众善奉行。
久久必获吉庆，所谓转祸为福也。
故吉人语善，视善，行善。
一日有三善，三年天必降之福。
凶人语恶、视恶、行恶，
一日有三恶，三年天必降之祸，
胡不勉而行之。"""


dst="""弦理论，是理论物理的一个分支学科，
弦论的一个基本观点是，
自然界的基本单元不是电子、光子、
中微子和夸克之类的点状粒子，
而是很小很小的线状的“弦”
（包括有端点的“开弦”和圈状的“闭弦”或闭合弦）。
弦的不同振动和运动就产生出各种不同的基本粒子，
能量与物质是可以转化的，
故弦理论并非证明物质不存在。
弦论中的弦尺度非常小，
操控它们性质的基本原理预言，
存在着几种尺度较大的薄膜状物体，
后者被简称为“膜”。
直观地说，
我们所处的宇宙空间
可能是9+1维时空中的D3膜。
弦论是最有希望将自然界的基本粒子和四种相互作用力统一起来的理论。
弦理论是一门理论物理学上的学说。
理论里的物理模型认为组成所有物质的最基本单位是一小段“能量弦线”，
大至星际银河，小至电子，质子，
夸克一类的基本粒子都是由这占有二维时空的“能量线”所组成。
中文的翻译上，一般是译作“弦”。
超弦理论可以解决和黑洞相关的问题。
在弦理论中，
基本对象不是占据空间单独一点的基本粒子，
而是一维的弦。
这些弦可以有端点，
或者它们可以自己连接成一个闭合圈环。
正如小提琴上的弦，
弦理论中支持一定的振荡模式，
或者共振频率，
其波长准确地配合。"""

dst="""“红色联合”对“四·二八兵团”总部大楼的攻击已持续了两天，
他们的旗帜在大楼周围躁动地飘扬着，仿佛渴望干柴的火种。
“红色联合”的指挥官心急如焚，他并不惧怕大楼的守卫者，
那二百多名“四·二八”战士，与诞生于1966年初、经历过大检阅和大串联的“红色联合”相比要稚嫩许多。
他怕的是大楼中那十几个大铁炉子，里面塞满了烈性炸药，用电雷管串联起来，
他看不到它们，但能感觉到它们磁石般的存在，
开关一合，玉石俱焚，而“四·二八”的那些小红卫兵们是有这个精神力量的。
比起已经在风雨中成熟了许多的第一代红卫兵，
新生的造反派们像火炭上的狼群，除了疯狂还是疯狂。"""

dst="""
你在干嘛呢？自己偷偷在角落里跪着，不是说好了，我不在家的时候，你 可以不用跪吗？怎么这么不听话呀啊，把我宝贝吴昊贵难受了，我真的会心疼的。乖过来给我把鞋脱掉，踩着走了一天了，脚好累，好痛啊。😔不想再动了，用嘴下来，一只一只的叼过去。嗯，我的宝贝真乖，那打开看看这个主人，今天呢给你带了礼物。😔是不是很别致啊？这个最小尺寸的针操锁正好配你身上那个小玩意儿。乖主人看着你自己把内裤脱了，把它带上去。把小弟弟锁起来，再把钥匙交给我好吗？宝贝不要害怕。刚开始是有一点难受，慢慢就会好了，不要哭哦，你想要的这次我都给你。😔你喜欢的我全部都会做，钥匙在主人这里。想打开自卫的时候，随时可以找我。不过我和你的男主人在一块的时候，可能没时间看手机。最好不要那个时候打电话，我的宝贝怎么又哭了，这不是你一直以来最想要的吗？😔是你求着我满足你的，为了你开心，我才开始做。不过我现在才知道你作为男人。😊那方面确实挺差劲的，蚊子叮两下都比你的爽。更何况，男主人的鸡巴是你几倍粗，哼谢谢你的成全，我们呀特别和谐。过几天他就要搬这里来住了。不过宝贝你不用担心，主人不会让你流离失所的。男主人呐知道你的存在，主人我和他商量过了，他同意你继续暂住在我们家。你可以继续在这里陪我，但要看你表现啊。哎呀，对不起啊，宝贝，我已经尽力替你争取空间了。这些要求如果你实在做不到，我也不会勉强你继续留在这里。😔我还没有开始说，你就愿意呀，那我就替他转达一下喽。一。是你以后的身份不是前男友，而是我们的绿帽奴。对男主人要像对主人我一样恭敬。我们在家的时候，你只能是狗形态，你只是我们的玩具。2是我们不在家的时候。你要看好家，男主人不 会经常过来，主人也有时候会去他那边过夜。三是你以后要在阳台住，还记得以前我们养阿拉斯加的笼子吗？那里就是你以后的家了，本来呀我觉得不合适，今天看你一个人在家也跪着。在笼子里啊还可以趴着睡多舒服啊。其实对宝贝你来说是好事，对不对？四是我们擅床做爱的时候，你不能偷听偷看，除非我们需要你服侍。你可以把眼睛蒙着跪在旁边，听从我们的命令。还有一点。他让我以后对你严厉起来，真的对不起了，听明白了吗？贱狗明白了。😔就跪在我脚下，让我踩着头说，我是主人您的绿王八贱狗。求您赏赐绿帽，大点声说说三遍，真是够贱的。从现在开始，剥夺你的鸡巴使用权，自己低头看看，瞧瞧你的小玩意儿，又小又没精神。在那呆了着，哼能有什么用啊？还有你以后视线。不能超过我的大腿以上，除了服侍我们之外，别的想都不要想，明白吗？我的身体现在完全是属于你男主人的，不是你这条贱狗，他用眼睛看的，你要好好感谢男主人。是他大度收留了你他以后操我的时候，你给我规矩点，发出任何声音。你一晚上都别想喝水，听懂了吗？这是姑奶奶奖励你的一记耳光，以后你在我这儿。就只是一条绿奴狗了，明白吗？好了，主人累了要睡了。🎼跪安吧，然后滚回笼子里去。
"""

dst="""
你在干 什么？😊你居然用我换下来的鞋子撸管啊，如果不是我忘了拿东西，你是不是就要射在上面了？社团让你管服装，你居然做这么恶心的事，哼被你这么恶心的人喜欢，真的是可怕。还好你之前次次和我告白，我都没有答应你。😊什么不让我告诉其他人。好啊，今晚你和我回家。我要让你认识到自己的错进来。贱个，自己把衣服脱了。滚过来用你的狗鸡巴，对我垫脚，我打个电话。喂，亲爱的。还有多久回来呀啊，一会儿就到了。好，那你快点啊，今晚咱们来点有情趣的事啊嗯，拜拜。😊贱货，你的脏东西被这样踩着，是不是很爽啊啊，居然已经射了。被我用鞋底踩引的这么快射啊啊，果然是一根下贱的阳痿早泄鸡吧。待会儿我的男朋友就要过来了，你正好做我们的奴隶，为我们助助兴。😊然后就可以开开恩放你一马。不过你要是不能让我满意，到时候我就把你的下贱机吧踩烂。听到没有？呀这么一会儿狗鸡巴又翘这么高了来。自己把我的帆布鞋套套在你那个下贱玩意上啊，另外一只扣在脸上，然后去一边跪着。你这姿势啊真是下贱。😊现在你就满怀感激的跟我的鞋子亲密接触吧。哎呀，亲爱的你终于回来了。今天啊有个奴隶给我们助兴呢。😊你知道吗？他以前和我告白过4 次，都被我拒绝了呢。今天啊居然还在学校偷偷的用我的鞋子自慰，为了不让我告诉别人，还说答应我的一切要求。真是下贱呢哎，建稿跟在我们身后滚过来，哼看好了啊。😊这是你男主人的肉包，没勃起都比你勃起了粗大这么多。我现在要用嘴让我亲爱的完全勃起。而你这只小贱狗就在后面舔我的屁呀，听懂了吗？进告。把你的狗舌头撅硬了，往里舔啊把里面的狗舔干净。啊，对，就是这样。哦，好舒服啊，，你看到没有啊，这才是和女做爱的肉棒，你那的小东西就只配被女人踩在脚下。😊啊，老公的打肉包好粗啊，嗯嗯嗯嗯哇。哇，这么快就这么硬了啊，哇，亲爱的，你捅我的菊花吧。啊，这小贱货已经帮咱们舔干净了啊嗯嗯对。😔小贱货，你也别闲着去我们身后舔我的脚老公，你好厉害。草得好舒服啊不像这个贱狗鸡巴那么小，只配给我做狗奴，只配舔我的脚。我舔了喂，小贱狗啊，你怎么不舔了呀？😊你居然偷着撸管，还把精液射在我的脚上，贱货竟然用你下贱的肉棒来玷污我的脚，待会儿我非得淹了你不可。😡我告诉你啊，等我男朋友想用完我的菊花，我就阉了你贱货贱货贱货老公接着操我。啊哦哦哦哦啊金师傅亲爱的你的肉吧真是好雄壮啊，还不像旁边那条贱狗那么小。只能跪在一边看着我们接下来咱们就把它阉了吧。不如我现在就踩在他的下体上啊，和你做爱，然后踩烂他的小鸡巴好不好？见过。把你的那双小皮鞋标过来，然后背靠墙坐下，把狗鸡巴放在地上嗯。啊我要穿的这双小皮鞋踩在上面，你可怜的小鸡巴不仅要承受我的体重，还要承受我男朋友做我的力量。天，你这么快就回来了，我又硬了。你知道自己要被淹了，会令你兴奋。哼这样下贱的肉棒果然应该踩烂开始吧，亲爱的。哦我踩死你这条贱狗老公，你不要停对你这条贱狗，你偷偷拿我的鞋子自妹，恶心我很久了啊啊。现在我有男朋友了把你淹了，免得你以后打我主意啊老公对。操我操我大鸡巴狠狠的操我啊，真舒服啊，你条贱狗，你看到没有？我老公把我操多舒服啊。你快点发誓，说你愿意为了我和我男朋友的幸福，把下体让我踩烂，被去世成为一条贱狗啊。以后作为我和我男朋友的奴。一辈子跪着，看着我们做爱，为我们服务。说啊啊，对老公笑我笑我笑我亲爱的啊啊。😊啊啊啊亲爱的你好棒啊，全部都射进来了，哦，好舒服啊。😔你这个小东西也射了呀，只不过是在我的鞋底哦，而且还是红色的哦。看来你这小东西再也不能用了，以后啊一定要听话。不然的话，我就穿着高跟鞋插烂，毒死你的尿道，让你活活憋死。听到没有？四太监。以后我还要给你找个女伴儿，你们每天不仅要揍好我和你的男主人做爱，你还要揍好你的小女主人。你这种阉狗啊就应该是最下层最下贱的，听到没有？好了，现在呀我要和我的男朋友继续了。你呢就把我的鞋底和你弄脏的地板都舔干净。如果让我发现你不是用舔的，你知道后果的。
"""

dst="""
老公，我回来了。啊，你说什么你想要和我做爱，拜托啊，你放过我好吗？ 你知不知道啊，我今天被你哥哥操的有多累呀，哎呀，明明是亲兄弟，为什么你哥的鸡巴就比你的大那么多呢？😔你看看你这根肉棒又短又小，我给别人撸鸡巴的时候啊，都是握着的。但是你这个呢小的可怜的短小鸡巴，我都只能捏着玩，真笑死老娘了，真的是没见过比你更小的鸡巴。转然想就算了，还早泄。哎，还有比你更没用的男人吗？啊，哼废物早泄男笑几巴废物哎。突然觉得这个称呼很适合你呢，要不我以后就叫你小鸡巴废物吧。哎，不是吧，听到我这么叫你。你这个小鸡巴废物居然勃起了，真想拍个照片发到网上啊，让大家开开眼。这个世界上还有勃起之后这么小的鸡巴。😊哎呀，让我想想啊，你上次是几秒射出来的，好像是40秒吧。你就这么短时间，你还想操我呢啊，废物东西给你看知道这是什么东西吗？这呀是飞机杯，专门为你们这些操不到逼的可怜虫设计的东西。你呀像你这样短小可怜的早泄机吧。也就只配射在飞机杯里了啊，早泄男配飞机杯，哼真是绝配呢啊，你说什么，我是飞机杯。😊你这么说倒也没错，我呀是除了你以外，所有男人的飞机杯呢。你哥哥下午的时候啊，就把我当成飞机杯，抱着我的肥腿使劲后入，使劲操呢。用他的大鸡巴一下一下的抽查我的骚逼，用龟头啊使劲顶我的子宫。哎呀，操的我呀白眼直翻，口水直流呢。像一条母狗一样，只会喊主人主人呢哼。😊他呀还在我的大奶子上写了厕所两大字，然后叫了几个人过来，把我当成公共厕所，让我吃他们的惊，喝他们的尿呢，我就是个飞机呗。是个鸡巴套子，不过就算是这样，也比你这种废物要好得多。小鸡巴废物，拿起飞机杯。😊想象着你老婆，我被陌生人操的欲现欲死的样子，给我使劲撸，现在开始计时。你哥的大鸡巴真的操死我了，抱着我的黑丝肥臀呢，啪啪啪的用鸡巴撞我的大屁股，把我操的双腿发软，白眼直翻。你哥哥最喜欢我的黑丝臊屁股了，他说呀，只有结婚以后的熟女，才能有这样丰腴肉感的大腿和屁股，这样操起来才最带感呢。哎呀，不过呀，我估计你这辈子是没机会享着福气了。哎，怎么了？你继续撸啊啊，你已经射了。哎呦，你可笑死老娘了，这才几秒呀，35秒还破记录了呀。😊看你这个废物东西小鸡巴废物，你这种小鸡巴就不配娶媳妇儿，我当时简直是瞎了眼，才会嫁给你这么个小鸡巴废物。不过也好，要是不和你结婚，我都不认识你哥，我见到你哥才知道。😔原来两兄弟之间的鸡巴可以差距这么大的呀，哥哥的鸡巴那么大，操的我骚逼呀，饮水直流哼。然而，弟弟的鸡巴不仅短小，而且秒射，又小又没用，居然还想着操女人，你这种废物鸡巴除了尿尿。还有点别的用吗？啊，怎么还会幻想着可以蹭女人呢？你就应该乖乖的撸你的鸡吧。毕竟没有哪个女人看到你的小鸡巴，可以忍住笑出声来。哼再说了，看我被别人操，你不是挺高兴的吗？😊真的是没有见过你这种老婆被干了，即巴还硬起来的变态呢。哦，对了，忘了告诉你了，他们呢还录了操我的录像呢。要不要看看别人的大鸡巴是怎么干我的骚逼的呢？啊，我跟你说呀，他们几个大男人轮流来操我的逼。而且都不带套，还有几个男的我都不认识，就拽了我的大屁股，把我当成飞机杯，狠狠的干我，就像干骚狗那样呢。哎呦。其他男人的鸡巴就是大呀，不知道比你这个废物早些养美男的鸡巴好到哪里去呢？真的是可笑啊。每次我扫微痒的时候，我老公都没办法满足我。没办法，我也只好去找你哥来操我了。其实啊我跟你说，对于我这种骚货来说。😔只要是个男人，是个鸡巴够大的男人就可以了。当然了，我也只对其他男人发骚。至于你这种废物东西啊，这种看着自己老婆被操还能硬起来的废物鸡巴，我碰你一下，都是对你的恩惠了。还不跪下来谢谢我，你这个废物贱狗，哎，看到没有啊，他们的鸡巴都是那种塞进来的。😊把我的骚逼慢慢撑开，然后齐根末弱，往死里操我，你都不知道他们大击吧，插进我的骚血里的时候，我是有多充实啊。心想啊，这才是做女人的快乐呀。和你睡在一起啊，就觉得浑身不舒服，觉得恶心。😊我怎么会嫁给你这么个阳痿早泄的男人呢？舔都不想给你舔，就连给你撸管儿都是满脸写着嫌弃。怎么会有你这种鸡巴那么小还秒杀的男人呢啊，你知道我被那些大鸡巴干的多爽吗？😮我觉得被那些大鸡巴操逼好幸福啊。😊肉血里面被打鸡巴塞得满满的，他们每一次冲刺都把大龟头撞在我的子宫上呢，每一次抽查都把我干的快要高潮了。哎，还有啊他们精液射进来的时候又浓又多，连续不停的在我的子宫里面射上十几下。每次他们射完，我都感觉我的子宫里面满满的都是他们的精液呢。哎，说不定我现在抠一抠，还能从骚逼里面抠出来他们的精液呢。而且呀我还沉浸在上一个人内受的快感当中的时候，下一根鸡巴都已经重新插进我的骚血里面了。我告诉他们，让我休息一下，他们都说不行呢，说我太骚了，忍不住了。哎呀，没办法，在大鸡巴男人面前呢，我就是这么骚，这么淫荡。被大鸡巴男人干的时候，我总是忍不住喊他们老公，喊他们主人，我求了他们打我的大屁股，我真是爱死这种沉浮在男人胯下的感觉了。哎，对了，他们呢可喜欢听我说骚话了，他们呢总让我喊他们爸爸哥哥来操我呀什么的，我也超级喜欢这种感觉呢。而且呀上一个人刚刚射完，他还会很懂得把软下去的鸡巴放在我的嘴里，让我给他吸鸡巴呢，吸那些还没有射出来的精液。舔他们的龟头做他们的蛋蛋，哎呦，他们的蛋蛋可大了，我觉得他们连续早一整个晚上都没有问题呢。然后几个男人就坐在边上等着，你哥坐在旁边专门录像。哎，你看你看看到这个男的大鸡巴朝小穴的镜头了吗？哇，你看没看到饮水的被操的从骚逼里面溅出来了。哎呦，看的我现在骚逼又有些痒了呢。哎喂喂喂，你那是什么表情啊？😮怎么你还指望现在可以操我呀，哼别想了，能给你看看我被其他男人操的视频，你就应该学会满足懂吗？😊自己撸你那根短小的鸡巴难道不好吗？我把视频发给你以后不要再对我说和你做爱这种话了，知道吗？实在是笑死人了，你以后啊就看着我被别人干的视频，先录一遍，求求你这个阳痿早泄男，不要再再回到家里的时候发情了啊。😊不然我晚上睡觉，一想到我旁边这个阳痿早线男在发情，我就很郁闷，觉都睡不好。以后啊你白天去上班。然后我就叫你哥带那些鸡巴蛋的男人来家里操我，然后录像录完发给你怎么样哼。是不是觉得很赚呢，又能满足自己被绿的爱好，还能够看着撸鸡吧，真的是一举两得呢，这样。回到家你也不会发情了，我也不用应付你了，简直perfect啊，什么你想要当场看。😊当场看，我怕你怀疑人生过于自卑呢。你都不知道我在那些男人面前有多贱有多骚。我 在他们面前呢完全就是一条欠操的扫母狗呢。要么高高的翘了大屁股，回头用淫荡的眼神瞪着他们后入啊，要么就是自己大大的分开自己的双腿，等着别人的插入。他们想什么时候设就什么时候设，想设在哪里呀，就设在哪里呢。有一次他们设了好多法，弄得我脸上、奶子上扫血脸，到处都是他们的精液。到最后我都不知道到底做了多久，睡了几次呢？我就记得呀，我浑身全是男人的经液。睁开眼睛就是等着我舔的鸡巴，而且他们呢还特别喜欢在我们卧室里面坐。说是要给我老公看看，没办法满足自己老婆的男人到底会经历些什么？哎呀，我看你鸡巴那么小，就算是绿帽奴。肯定也受不了那么多男人轮奸自己老婆的场面吧。你要想想，那可是好几个大鸡巴男人。把我狠狠的按在床上，一个不停的操啊，他们每一个男人的鸡巴都又粗又大又长。就好像欧美A片里面的男主角呢。就好像是一根根长长的棍子，捅 入我这个亚洲骚逼里面，把我干得死去活来的，而且还都是内设呢。到时候孩子你可得养啊，毕竟我可是你老婆，还有啊我不履行做妻子的义务，也是因为你自己阳痿早泄导致的。😊再说了，和你做怎么可能会有孩子呢？早点戒种，也不失为一件好事啊，什么。无论如何都想要看，你确定要亲眼看着自己的老婆，被几个大鸡巴男人轮奸内设吗？你确定要看我在别的男人胯下满嘴骚话，叫着别的男人老公和爸爸吗？哼？好吧好吧，既然你执意要求的话，反正你到时候自己撸社了也就没你啥事儿了。到时候看到一半的时候。可不要忽然说要证明自己什么的，我只要求你到时候不要哭出来就可以了，怪丢人的那咱们可说好了啊。我现在可要打电话约人了啊喂哥啊。你那几个兄弟今晚有没有时间啊啊，有的呀嗯那就叫上晚上一起到我这儿啊。哎呀，你管你弟干啥呀，你这管叫人来就是了。嗯，早点来啊。好嗯等你哦，哼。😊老公，你晚上可得顶住了。
"""

txtname = 'ntrpassex'
txtname = 'readpreg'
txtname = 'ffbutt'
txtname = 'hooker'
txtname = 'green'
txtname = 'cumclub'
txtname = 'wed'



# Dynamically import the module
module = importlib.import_module(f'txt.{txtname}')
# Get the attribute from the module
dst = getattr(module, txtname)
# Now you can use dst as the imported object
print(dst)



txt_process='''
<br>        _
\n          _
我          你
她          我
__          我

妻子        我
老婆我      我
你老婆      我
你的老婆    我
老婆        我
他们        我们
他俩        我俩

肏          操
草          操
屄          逼

阿端        __
嗯          哦
肉棒        鸡巴
中出        内射

老二        鸡巴
鲍          逼
保险套      避孕套
台湾        北京
'''


#inference_instruct2
ins = """
操<cao4>
长<chang2>
腿<tui3>
稀<xi1>
痉<jing1>
"""

src = """
你说，他也没用过你，瞎惦记什么呀，你要搁我我都不琢磨，谁知道好不好用啊，真是的。
"""

"""
这有什么好听的呀，这不就是，刚睡醒，正常的，声音吗。 
他怎么还知道射手呢，知道的挺多呀。哎呀，可能，就是有这么一类人。
我怎么老觉得这处女是他妈性冷淡呀。
"""

src = "清晨的微风掠过窗台，那只顽皮的橘猫第三次打翻了咖啡杯——天哪！难道这周就不能让我安静地读完一本书吗？"



inpathww = './asset/wh.wav'
prompt_speech_16kww = load_wav(inpathww, 16000)
srcww = "清晨的微风掠过窗台，那只顽皮的橘猫第三次打翻了咖啡杯——天哪！难道这周就不能让我安静地读完一本书吗？"

inpathdd = './asset/db.wav'
prompt_speech_16kdd = load_wav(inpathdd, 16000)
srcdd = "这咋看着不开心捏"

inpathss = './asset/sd.wav'
prompt_speech_16kss = load_wav(inpathss, 16000)
srcss = "我第一次,也是最后一次,发视频做个说明,我是不会说普通话"

inpathyy = './asset/yy.wav'
prompt_speech_16kyy = load_wav(inpathyy, 16000)
srcyy = "我觉得应该。性格，偏男生一点吧。我不喜欢聊天我喜欢见面。你的声音已经体现了你的多才多艺。晚上好晚上好。焦急的等待。好像我是第一个。啊你有点厉害啊你。惊艳到我了，很志玲姐姐的声音。跟一个女神在聊天。然后接下来几句就感觉这个是一个。接地气的女神。"

inpathsf = './asset/sf.wav'
prompt_speech_16ksf = load_wav(inpathsf, 16000)
srcsf = "哎呀，可能，就是有这么一类人。你说，他也没用过你，瞎惦记什么呀，你要搁我我都不琢磨，谁知道好不好用啊，真是的。"


line_num = 0

#single_line = '__'.join(dst.splitlines()) 
#single_line = smart_replace(single_line)
#single_line = single_line.replace('__', '\n')
total_lines = len(dst.splitlines())
for line in dst.splitlines():
    print(f"{line_num}/{total_lines} ... 处理行: {line}")
    line_num += 1

    if len(trim_all_wwitespace(line)) < 1:
        continue

    if '@@ww' in line:
        line = line.replace('@@ww', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcww, prompt_speech_16k=prompt_speech_16kww, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
    elif '@@dd' in line:
        line = line.replace('@@dd', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcdd, prompt_speech_16k=prompt_speech_16kdd, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
    elif '@@ss' in line:
        line = line.replace('@@ss', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcss, prompt_speech_16k=prompt_speech_16kss, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
    elif '@@yy' in line:
        line = line.replace('@@yy', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcyy, prompt_speech_16k=prompt_speech_16kyy, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
    elif '@@sf' in line:
        line = line.replace('@@sf', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcsf, prompt_speech_16k=prompt_speech_16ksf, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
    else:
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=src, prompt_speech_16k=prompt_speech_16k, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)


'''    
    elif 'ff' in line:
        line = line.replace('@@ff', '')
        line = line.replace('@@', '')
        for i, j in enumerate(cosyvoice.inference_zero_shot(tts_text=line, prompt_text=srcff, prompt_speech_16k=prompt_speech_16kff, stream=False, speed=1)):
            filename = 'ff_{:04d}_{:04d}.wav'
            torchaudio.save(filename.format(line_num, i), j['tts_speech'], cosyvoice.sample_rate)
'''


output_list = find_ff_wav_files()
output_filename = f'{txtname}_ff.wav'
print('[ff] output_list ...', output_list, output_filename)

concatenate_wavs_pydub(output_list, output_filename)

delete_files(output_list)

print('[ff] Done.')


